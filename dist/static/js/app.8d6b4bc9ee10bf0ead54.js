webpackJsonp([1,0],[function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=s(11),n=o(i),l=s(92),r=o(l),a=s(91),c=o(a),d=s(84),u=o(d),p=s(86),f=o(p),v=s(88),h=o(v),m=s(89),y=o(m);s(61),n.default.use(r.default),n.default.use(c.default);var x=n.default.extend(u.default),g=new r.default({linkActiveClass:"active"});g.map({"/goods":{component:f.default},"/ratings":{component:h.default},seller:{component:y.default}}),g.start(x,"#app")},,,,,,,,function(e,t,s){var o,i,n={};s(63),o=s(21),i=s(74),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var l="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(l.template=i),l.computed||(l.computed={}),Object.keys(n).forEach(function(e){var t=n[e];l.computed[e]=function(){return t}})},function(e,t,s){var o,i,n={};s(71),o=s(29),i=s(82),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var l="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(l.template=i),l.computed||(l.computed={}),Object.keys(n).forEach(function(e){var t=n[e];l.computed[e]=function(){return t}})},function(e,t,s){var o,i,n={};s(72),o=s(30),i=s(83),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var l="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(l.template=i),l.computed||(l.computed={}),Object.keys(n).forEach(function(e){var t=n[e];l.computed[e]=function(){return t}})},,function(e,t){"use strict";function s(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var s={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var i in s)if(new RegExp("("+i+")").test(t)){var n=s[i]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?n:o(n))}return t}function o(e){return("00"+e).substr(e.length)}Object.defineProperty(t,"__esModule",{value:!0}),t.formatDate=s},,,,,function(e,t,s){var o,i,n={};s(68),o=s(26),i=s(79),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var l="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(l.template=i),l.computed||(l.computed={}),Object.keys(n).forEach(function(e){var t=n[e];l.computed[e]=function(){return t}})},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,s){var o=window.localStorage.__seller__;o?(o=JSON.parse(o),o[e]||(o[e]={})):(o={},o[e]={}),o[e][t]=s,window.localStorage.__seller__=(0,r.default)(o)}function n(e,t,s){var o=window.localStorage.__seller__;if(!o)return s;if(o=JSON.parse(o)[e],!o)return s;var i=o[t];return i||s}Object.defineProperty(t,"__esModule",{value:!0});var l=s(31),r=o(l);t.saveToLocal=i,t.loadFromLocal=n},function(e,t){"use strict";function s(){var e=window.location.search,t={},s=/[?&][^?&]+=[^?&]+/g,o=e.match(s);return o&&o.forEach(function(e){var s=e.substring(1).split("="),o=decodeURIComponent(s[0]),i=decodeURIComponent(s[1]);t[o]=i}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.urlParse=s},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(32),n=o(i),l=s(19),r=s(87),a=o(r),c=0;t.default={data:function(){return{seller:{id:function(){var e=(0,l.urlParse)();return e.id}()}}},created:function(){var e=this;this.$http.get("/api/seller?id="+this.seller.id).then(function(t){t=t.body,t.errno===c&&(e.seller=(0,n.default)({},e.seller,t.data))})},components:{"v-header":a.default}}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(11),n=o(i);t.default={props:{food:{type:Object}},methods:{addCart:function(e){e._constructed&&(this.food.count?this.food.count++:n.default.set(this.food,"count",1),this.$dispatch("cart.add",e.target))},decreaseCart:function(e){e._constructed&&this.food.count&&this.food.count--}}}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(2),n=o(i),l=s(11),r=o(l),a=s(12),c=s(8),d=o(c),u=s(17),p=o(u),f=s(9),v=o(f),h=2;t.default={props:{food:{type:Object}},data:function(){return{showFlag:!1,selectType:h,onlyContent:!0,desc:{all:"全部",positive:"推荐",negative:"吐槽"}}},methods:{show:function(){var e=this;this.showFlag=!0,this.selectType=h,this.onlyContent=!0,this.$nextTick(function(){e.scroll?e.scroll.refresh():e.scroll=new n.default(e.$els.food,{click:!0})})},hide:function(){this.showFlag=!1},addFirst:function(e){e._constructed&&(this.$dispatch("cart.add",e.target),r.default.set(this.food,"count",1))},needShow:function(e,t){return!(this.onlyContent&&!t)&&(this.selectType===h||e===this.selectType)}},events:{"ratingtype.select":function(e){var t=this;this.selectType=e,this.$nextTick(function(){t.scroll.refresh()})},"content.toggle":function(e){var t=this;this.onlyContent=e,this.$nextTick(function(){t.scroll.refresh()})}},filters:{formatDate:function(e){var t=new Date(e);return(0,a.formatDate)(t,"yyyy-MM-dd hh:mm")}},components:{cartcontrol:d.default,ratingselect:p.default,split:v.default}}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(2),n=o(i),l=s(90),r=o(l),a=s(8),c=o(a),d=s(85),u=o(d),p=0;t.default={props:{seller:{type:Object}},data:function(){return{goods:[],listHeight:[],scrollY:0,selectedFood:{}}},computed:{currentIndex:function(){for(var e=0;e<this.listHeight.length;e++){var t=this.listHeight[e],s=this.listHeight[e+1];if(!s||this.scrollY>=t&&this.scrollY<s)return e}return 0},selectFoods:function(){var e=[];return this.goods.forEach(function(t){t.foods.forEach(function(t){t.count&&e.push(t)})}),e}},created:function(){var e=this;this.classMap=["decrease","discount","special","invoice","guarantee"],this.$http.get("/api/goods").then(function(t){t=t.body,t.errno===p&&(e.goods=t.data,e.$nextTick(function(){e._initScroll(),e._calculateHeight()}))})},methods:{selectMenu:function(e,t){if(t._constructed){var s=this.$els.foodsWrapper.getElementsByClassName("food-list-hook"),o=s[e];this.foodsScroll.scrollToElement(o,300)}},selectFood:function(e,t){t._constructed&&(this.selectedFood=e,this.$refs.food.show())},_drop:function(e){var t=this;this.$nextTick(function(){t.$refs.shopcart.drop(e)})},_initScroll:function(){var e=this;this.meunScroll=new n.default(this.$els.menuWrapper,{click:!0}),this.foodsScroll=new n.default(this.$els.foodsWrapper,{click:!0,probeType:3}),this.foodsScroll.on("scroll",function(t){e.scrollY=Math.abs(Math.round(t.y))})},_calculateHeight:function(){var e=this.$els.foodsWrapper.getElementsByClassName("food-list-hook"),t=0;this.listHeight.push(t);for(var s=0;s<e.length;s++){var o=e[s];t+=o.clientHeight,this.listHeight.push(t)}}},components:{shopcart:r.default,cartcontrol:c.default,food:u.default},events:{"cart.add":function(e){this._drop(e)}}}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(10),n=o(i);t.default={props:{seller:{type:Object}},data:function(){return{detailShow:!1}},methods:{showDetail:function(){this.detailShow=!0},hideDetail:function(){this.detailShow=!1}},created:function(){this.classMap=["decrease","discount","special","invoice","guarantee"]},components:{star:n.default}}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(2),n=o(i),l=s(12),r=s(10),a=o(r),c=s(17),d=o(c),u=s(9),p=o(u),f=2,v=0;t.default={props:{seller:{type:Object}},data:function(){return{ratings:[],selectType:f,onlyContent:!0}},created:function(){var e=this;this.$http.get("/api/ratings").then(function(t){t=t.body,t.errno===v&&(e.ratings=t.data,e.$nextTick(function(){e.scroll=new n.default(e.$els.ratings,{click:!0})}))})},methods:{needShow:function(e,t){return!(this.onlyContent&&!t)&&(this.selectType===f||e===this.selectType)}},events:{"ratingtype.select":function(e){var t=this;this.selectType=e,this.$nextTick(function(){t.scroll.refresh()})},"content.toggle":function(e){var t=this;this.onlyContent=e,this.$nextTick(function(){t.scroll.refresh()})}},filters:{formatDate:function(e){var t=new Date(e);return(0,l.formatDate)(t,"yyyy-MM-dd hh:mm")}},components:{star:a.default,split:p.default,ratingselect:d.default}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=0,o=1,i=2;t.default={props:{ratings:{type:Array,default:function(){return[]}},selectType:{type:Number,default:i},onlyContent:{type:Boolean,default:!1},desc:{type:Object,default:function(){return{all:"全部",positive:"满意",negative:"不满意"}}}},computed:{positives:function(){return this.ratings.filter(function(e){return e.rateType===s})},negatives:function(){return this.ratings.filter(function(e){return e.rateType===o})}},methods:{select:function(e,t){t._constructed&&(this.selectType=e,this.$dispatch("ratingtype.select",e))},toggleContent:function(e){e._constructed&&(this.onlyContent=!this.onlyContent,this.$dispatch("content.toggle",this.onlyContent))}}}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(2),n=o(i),l=s(18),r=s(10),a=o(r),c=s(9),d=o(c);t.default={props:{seller:{type:Object}},data:function(){var e=this;return{favorite:function(){return(0,l.loadFromLocal)(e.seller.id,"favorite",!1)}()}},computed:{favoriteText:function(){return this.favorite?"已收藏":"收藏"}},created:function(){this.classMap=["decrease","discount","special","invoice","guarantee"]},watch:{seller:function(){this._initScroll(),this._initPics()}},ready:function(){this._initScroll(),this._initPics()},methods:{toggleFavorite:function(e){e._constructed&&(this.favorite=!this.favorite,(0,l.saveToLocal)(this.seller.id,"favorite",this.favorite))},_initScroll:function(){this.scroll?this.scroll.refresh():this.scroll=new n.default(this.$els.seller,{click:!0})},_initPics:function(){var e=this;if(this.seller.pics){var t=120,s=6,o=(t+s)*this.seller.pics.length-s;this.$els.picList.style.width=o+"px",this.$nextTick(function(){e.picScroll?e.picScroll.refresh():e.picScroll=new n.default(e.$els.picWrapper,{scrollX:!0,eventPassthrough:"vertical"})})}}},components:{star:a.default,split:d.default}}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(2),n=o(i),l=s(8),r=o(l);t.default={props:{selectFoods:{type:Array,default:function(){return[{price:10,count:1}]}},deliveryPrice:{type:Number,default:0},minPrice:{type:Number,default:0}},data:function(){return{balls:[{show:!1},{show:!1},{show:!1},{show:!1},{show:!1}],dropBalls:[],fold:!0}},computed:{totalPrice:function(){var e=0;return this.selectFoods.forEach(function(t){e+=t.price*t.count}),e},totalCount:function(){var e=0;return this.selectFoods.forEach(function(t){e+=t.count}),e},payDesc:function(){if(0===this.totalPrice)return"￥"+this.minPrice+"元起送";if(this.totalPrice<this.minPrice){var e=this.minPrice-this.totalPrice;return"还差￥"+e+"元起送"}return"去结算"},payClass:function(){return this.totalPrice<this.minPrice?"not-enough":"enough"},listShow:function(){var e=this;if(!this.totalCount)return this.fold=!0,!1;var t=!this.fold;return t&&this.$nextTick(function(){e.scroll?e.scroll.refresh():e.scroll=new n.default(e.$els.listContent,{click:!0})}),t}},methods:{drop:function(e){for(var t=0;t<this.balls.length;t++){var s=this.balls[t];if(!s.show)return s.show=!0,s.el=e,void this.dropBalls.push(s)}},toggleList:function(){this.totalCount&&(this.fold=!this.fold)},hideList:function(){this.fold=!0},empty:function(){this.selectFoods.forEach(function(e){e.count=0})},pay:function(){this.totalPrice<this.minPrice||window.alert("支付"+this.totalPrice+"元")}},transitions:{drop:{beforeEnter:function(e){for(var t=this.balls.length;t--;){var s=this.balls[t];if(s.show){var o=s.el.getBoundingClientRect(),i=o.left-32,n=-(window.innerHeight-o.top-22);e.style.display="",e.style.webkitTransform="translate3d(0,"+n+"px,0)",e.style.transform="translate3d(0,"+n+"px,0)";var l=e.getElementsByClassName("inner-hook")[0];l.style.webkitTransform="translate3d("+i+"px,0,0)",l.style.transform="translate3d("+i+"px,0,0)"}}},enter:function(e){e.offsetHeight;this.$nextTick(function(){e.style.webkitTransform="translate3d(0,0,0)",e.style.transform="translate3d(0,0,0)";var t=e.getElementsByClassName("inner-hook")[0];t.style.webkitTransform="translate3d(0,0,0)",t.style.transform="translate3d(0,0,0)"})},afterEnter:function(e){var t=this.dropBalls.shift();t&&(t.show=!1,e.style.display="none")}}},components:{cartcontrol:r.default}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=5,o="on",i="half",n="off";t.default={props:{size:{type:Number},score:{type:Number}},computed:{starType:function(){return"star-"+this.size},itemClasses:function(){for(var e=[],t=Math.floor(2*this.score)/2,l=t%1!==0,r=Math.floor(t),a=0;a<r;a++)e.push(o);for(l&&e.push(i);e.length<s;)e.push(n);return e}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){var o=s(!function(){var e=new Error('Cannot find module "!!./../../../node_modules/css-loader/index.js!./../../../node_modules/stylus-loader/index.js!./index.styl"');throw e.code="MODULE_NOT_FOUND",e}());"string"==typeof o&&(o=[[e.id,o,""]]);s(1)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,s){var o=s(!function(){var e=new Error('Cannot find module "!!./../node_modules/css-loader/index.js!./../node_modules/vue-loader/lib/style-rewriter.js!./../node_modules/stylus-loader/index.js!./../node_modules/vue-loader/lib/selector.js?type=style&index=0!./App.vue"');throw e.code="MODULE_NOT_FOUND",e}());"string"==typeof o&&(o=[[e.id,o,""]]);s(1)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,s){var o=s(!function(){var e=new Error('Cannot find module "!!./../../../node_modules/css-loader/index.js!./../../../node_modules/vue-loader/lib/style-rewriter.js!./../../../node_modules/stylus-loader/index.js!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./cartcontrol.vue"');throw e.code="MODULE_NOT_FOUND",e}());"string"==typeof o&&(o=[[e.id,o,""]]);s(1)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,s){var o=s(!function(){var e=new Error('Cannot find module "!!./../../../node_modules/css-loader/index.js!./../../../node_modules/vue-loader/lib/style-rewriter.js!./../../../node_modules/stylus-loader/index.js!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./food.vue"');throw e.code="MODULE_NOT_FOUND",e}());"string"==typeof o&&(o=[[e.id,o,""]]);s(1)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,s){var o=s(!function(){var e=new Error('Cannot find module "!!./../../../node_modules/css-loader/index.js!./../../../node_modules/vue-loader/lib/style-rewriter.js!./../../../node_modules/stylus-loader/index.js!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./goods.vue"');throw e.code="MODULE_NOT_FOUND",e}());"string"==typeof o&&(o=[[e.id,o,""]]);s(1)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,s){var o=s(!function(){var e=new Error('Cannot find module "!!./../../../node_modules/css-loader/index.js!./../../../node_modules/vue-loader/lib/style-rewriter.js!./../../../node_modules/stylus-loader/index.js!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./header.vue"');throw e.code="MODULE_NOT_FOUND",e}());"string"==typeof o&&(o=[[e.id,o,""]]);s(1)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,s){var o=s(!function(){var e=new Error('Cannot find module "!!./../../../node_modules/css-loader/index.js!./../../../node_modules/vue-loader/lib/style-rewriter.js!./../../../node_modules/stylus-loader/index.js!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./ratings.vue"');throw e.code="MODULE_NOT_FOUND",e}());"string"==typeof o&&(o=[[e.id,o,""]]);s(1)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,s){var o=s(!function(){var e=new Error('Cannot find module "!!./../../../node_modules/css-loader/index.js!./../../../node_modules/vue-loader/lib/style-rewriter.js!./../../../node_modules/stylus-loader/index.js!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./ratingselect.vue"');throw e.code="MODULE_NOT_FOUND",e}());"string"==typeof o&&(o=[[e.id,o,""]]);s(1)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,s){var o=s(!function(){var e=new Error('Cannot find module "!!./../../../node_modules/css-loader/index.js!./../../../node_modules/vue-loader/lib/style-rewriter.js!./../../../node_modules/stylus-loader/index.js!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./seller.vue"');throw e.code="MODULE_NOT_FOUND",e}());"string"==typeof o&&(o=[[e.id,o,""]]);s(1)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,s){var o=s(!function(){var e=new Error('Cannot find module "!!./../../../node_modules/css-loader/index.js!./../../../node_modules/vue-loader/lib/style-rewriter.js!./../../../node_modules/stylus-loader/index.js!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./shopcart.vue"');throw e.code="MODULE_NOT_FOUND",e}());"string"==typeof o&&(o=[[e.id,o,""]]);s(1)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,s){var o=s(!function(){var e=new Error('Cannot find module "!!./../../../node_modules/css-loader/index.js!./../../../node_modules/vue-loader/lib/style-rewriter.js!./../../../node_modules/stylus-loader/index.js!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./split.vue"');throw e.code="MODULE_NOT_FOUND",e}());"string"==typeof o&&(o=[[e.id,o,""]]);s(1)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,s){var o=s(!function(){var e=new Error('Cannot find module "!!./../../../node_modules/css-loader/index.js!./../../../node_modules/vue-loader/lib/style-rewriter.js!./../../../node_modules/stylus-loader/index.js!./../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./star.vue"');throw e.code="MODULE_NOT_FOUND",e}());"string"==typeof o&&(o=[[e.id,o,""]]);s(1)(o,{});o.locals&&(e.exports=o.locals)},function(e,t){e.exports=' <div> <v-header :seller=seller></v-header> <div class="tab border-1px"> <div class=tab-item> <a v-link="{path:\'/goods\'}">商品</a> </div> <div class=tab-item> <a v-link="{path:\'/ratings\'}">评论</a> </div> <div class=tab-item> <a v-link="{path:\'/seller\'}">商家</a> </div> </div> <router-view :seller=seller keep-alive></router-view> </div> '},function(e,t){e.exports=' <div class=cartcontrol> <div class=cart-decrease v-show="food.count>0" @click.stop.prevent=decreaseCart transition=move> <span class="inner icon-remove_circle_outline"></span> </div> <div class=cart-count v-show="food.count>0">{{food.count}}</div> <div class="cart-add icon-add_circle" @click.stop.prevent=addCart></div> </div> '},function(e,t){e.exports=' <div v-show=showFlag class=food transition=move v-el:food> <div class=food-content> <div class=image-header> <img :src=food.image> <div class=back @click=hide> <i class=icon-arrow_lift></i> </div> </div> <div class=content> <h1 class=title>{{food.name}}</h1> <div class=detail> <span class=sell-count>月售{{food.sellCount}}份</span> <span class=rating>好评率{{food.rating}}%</span> </div> <div class=price> <span class=now>￥{{food.price}}</span><span class=old v-show=food.oldPrice>￥{{food.oldPrice}}</span> </div> <div class=cartcontrol-wrapper> <cartcontrol :food=food></cartcontrol> </div> <div @click.stop.prevent=addFirst class=buy v-show="!food.count || food.count===0" transition=fade>加入购物车 </div> </div> <split v-show=food.info></split> <div class=info v-show=food.info> <h1 class=title>商品信息</h1> <p class=text>{{food.info}}</p> </div> <split></split> <div class=rating> <h1 class=title>商品评价</h1> <ratingselect :select-type=selectType :only-content=onlyContent :desc=desc :ratings=food.ratings></ratingselect> <div class=rating-wrapper> <ul v-show="food.ratings && food.ratings.length"> <li v-show=needShow(rating.rateType,rating.text) v-for="rating in food.ratings" class="rating-item border-1px"> <div class=user> <span class=name>{{rating.username}}</span> <img class=avatar width=12 height=12 :src=rating.avatar> </div> <div class=time>{{rating.rateTime | formatDate}}</div> <p class=text> <span :class="{\'icon-thumb_up\':rating.rateType===0,\'icon-thumb_down\':rating.rateType===1}"></span>{{rating.text}} </p> </li> </ul> <div class=no-rating v-show="!food.ratings || !food.ratings.length">暂无评价</div> </div> </div> </div> </div> '},function(e,t){e.exports=' <div class=goods> <div class=menu-wrapper v-el:menu-wrapper> <ul> <li v-for="item in goods" class=menu-item :class="{\'current\':currentIndex===$index}" @click=selectMenu($index,$event)> <span class="text border-1px"> <span v-show="item.type>0" class=icon :class=classMap[item.type]></span>{{item.name}} </span> </li> </ul> </div> <div class=foods-wrapper v-el:foods-wrapper> <ul> <li v-for="item in goods" class="food-list food-list-hook"> <h1 class=title>{{item.name}}</h1> <ul> <li @click=selectFood(food,$event) v-for="food in item.foods" class="food-item border-1px"> <div class=icon> <img width=57 height=57 :src=food.icon> </div> <div class=content> <h2 class=name>{{food.name}}</h2> <p class=desc>{{food.description}}</p> <div class=extra> <span class=count>月售{{food.sellCount}}份</span><span>好评率{{food.rating}}%</span> </div> <div class=price> <span class=now>￥{{food.price}}</span><span class=old v-show=food.oldPrice>￥{{food.oldPrice}}</span> </div> <div class=cartcontrol-wrapper> <cartcontrol :food=food></cartcontrol> </div> </div> </li> </ul> </li> </ul> </div> <shopcart v-ref:shopcart :select-foods=selectFoods :delivery-price=seller.deliveryPrice :min-price=seller.minPrice></shopcart> </div> <food :food=selectedFood v-ref:food></food> '},function(e,t){e.exports=' <div class=header> <div class=content-wrapper> <div class=avatar> <img width=64 height=64 :src=seller.avatar> </div> <div class=content> <div class=title> <span class=brand></span> <span class=name>{{seller.name}}</span> </div> <div class=description> {{seller.description}}/{{seller.deliveryTime}}分钟送达 </div> <div v-if=seller.supports class=support> <span class=icon :class=classMap[seller.supports[0].type]></span> <span class=text>{{seller.supports[0].description}}</span> </div> </div> <div v-if=seller.supports class=support-count @click=showDetail> <span class=count>{{seller.supports.length}}个</span> <i class=icon-keyboard_arrow_right></i> </div> </div> <div class=bulletin-wrapper @click=showDetail> <span class=bulletin-title></span><span class=bulletin-text>{{seller.bulletin}}</span> <i class=icon-keyboard_arrow_right></i> </div> <div class=background> <img :src=seller.avatar width=100% height=100%> </div> <div v-show=detailShow class=detail transition=fade> <div class="detail-wrapper clearfix"> <div class=detail-main> <h1 class=name>{{seller.name}}</h1> <div class=star-wrapper> <star :size=48 :score=seller.score></star> </div> <div class=title> <div class=line></div> <div class=text>优惠信息</div> <div class=line></div> </div> <ul v-if=seller.supports class=supports> <li class=support-item v-for="item in seller.supports"> <span class=icon :class=classMap[seller.supports[$index].type]></span> <span class=text>{{seller.supports[$index].description}}</span> </li> </ul> <div class=title> <div class=line></div> <div class=text>商家公告</div> <div class=line></div> </div> <div class=bulletin> <p class=content>{{seller.bulletin}}</p> </div> </div> </div> <div class=detail-close @click=hideDetail> <i class=icon-close></i> </div> </div> </div> '},function(e,t){e.exports=' <div class=ratings v-el:ratings> <div class=ratings-content> <div class=overview> <div class=overview-left> <h1 class=score>{{seller.score}}</h1> <div class=title>综合评分</div> <div class=rank>高于周边商家{{seller.rankRate}}%</div> </div> <div class=overview-right> <div class=score-wrapper> <span class=title>服务态度</span> <star :size=36 :score=seller.serviceScore></star> <span class=score>{{seller.serviceScore}}</span> </div> <div class=score-wrapper> <span class=title>商品评分</span> <star :size=36 :score=seller.foodScore></star> <span class=score>{{seller.foodScore}}</span> </div> <div class=delivery-wrapper> <span class=title>送达时间</span> <span class=delivery>{{seller.deliveryTime}}分钟</span> </div> </div> </div> <split></split> <ratingselect :select-type=selectType :only-content=onlyContent :desc=desc :ratings=ratings></ratingselect> <div class=rating-wrapper> <ul> <li v-for="rating in ratings" v-show="needShow(rating.rateType, rating.text)" class=rating-item> <div class=avatar> <img width=28 height=28 :src=rating.avatar> </div> <div class=content> <h1 class=name>{{rating.username}}</h1> <div class=star-wrapper> <star :size=24 :score=rating.score></star> <span class=delivery v-show=rating.deliveryTime>{{rating.deliveryTime}}</span> </div> <p class=text>{{rating.text}}</p> <div class=recommend v-show="rating.recommend && rating.recommend.length"> <span class=icon-thumb_up></span> <span class=item v-for="item in rating.recommend">{{item}}</span> </div> <div class=time> {{rating.rateTime | formatDate}} </div> </div> </li> </ul> </div> </div> </div> '},function(e,t){e.exports=' <div class=ratingselect> <div class="rating-type border-1px"> <span @click=select(2,$event) class="block positive" :class="{\'active\':selectType===2}">{{desc.all}}<span class=count>{{ratings.length}}</span></span> <span @click=select(0,$event) class="block positive" :class="{\'active\':selectType===0}">{{desc.positive}}<span class=count>{{positives.length}}</span></span> <span @click=select(1,$event) class="block negative" :class="{\'active\':selectType===1}">{{desc.negative}}<span class=count>{{negatives.length}}</span></span> </div> <div @click=toggleContent class=switch :class="{\'on\':onlyContent}"> <span class=icon-check_circle></span> <span class=text>只看有内容的评价</span> </div> </div> '},function(e,t){e.exports=' <div class=seller v-el:seller> <div class=seller-content> <div class=overview> <h1 class=title>{{seller.name}}</h1> <div class="desc border-1px"> <star :size=36 :score=seller.score></star> <span class=text>({{seller.ratingCount}})</span> <span class=text>月售{{seller.sellCount}}单</span> </div> <ul class=remark> <li class=block> <h2>起送价</h2> <div class=content> <span class=stress>{{seller.minPrice}}</span>元 </div> </li> <li class=block> <h2>商家配送</h2> <div class=content> <span class=stress>{{seller.deliveryPrice}}</span>元 </div> </li> <li class=block> <h2>平均配送时间</h2> <div class=content> <span class=stress>{{seller.deliveryTime}}</span>分钟 </div> </li> </ul> <div class=favorite @click=toggleFavorite> <span class=icon-favorite :class="{\'active\':favorite}"></span> <span class=text>{{favoriteText}}</span> </div> </div> <split></split> <div class=bulletin> <h1 class=title>公告与活动</h1> <div class="content-wrapper border-1px"> <p class=content>{{seller.bulletin}}</p> </div> <ul v-if=seller.supports class=supports> <li class="support-item border-1px" v-for="item in seller.supports"> <span class=icon :class=classMap[seller.supports[$index].type]></span> <span class=text>{{seller.supports[$index].description}}</span> </li> </ul> </div> <split></split> <div class=pics> <h1 class=title>商家实景</h1> <div class=pic-wrapper v-el:pic-wrapper> <ul class=pic-list v-el:pic-list> <li class=pic-item v-for="pic in seller.pics"> <img :src=pic width=120 height=90> </li> </ul> </div> </div> <split></split> <div class=info> <h1 class="title border-1px">商家信息</h1> <ul> <li class=info-item v-for="info in seller.infos">{{info}}</li> </ul> </div> </div> </div> '},function(e,t){e.exports=' <div class=shopcart> <div class=content @click=toggleList> <div class=content-left> <div class=logo-wrapper> <div class=logo :class="{\'highlight\':totalCount>0}"> <i class=icon-shopping_cart :class="{\'highlight\':totalCount>0}"></i> </div> <div class=num v-show="totalCount>0">{{totalCount}}</div> </div> <div class=price :class="{\'highlight\':totalPrice>0}">￥{{totalPrice}}</div> <div class=desc>另需配送费￥{{deliveryPrice}}元</div> </div> <div class=content-right @click.stop.prevent=pay> <div class=pay :class=payClass> {{payDesc}} </div> </div> </div> <div class=ball-container> <div transition=drop v-for="ball in balls" v-show=ball.show class=ball> <div class="inner inner-hook"></div> </div> </div> <div class=shopcart-list v-show=listShow transition=fold> <div class=list-header> <h1 class=title>购物车</h1> <span class=empty @click=empty>清空</span> </div> <div class=list-content v-el:list-content> <ul> <li class=food v-for="food in selectFoods"> <span class=name>{{food.name}}</span> <div class=price> <span>￥{{food.price*food.count}}</span> </div> <div class=cartcontrol-wrapper> <cartcontrol :food=food></cartcontrol> </div> </li> </ul> </div> </div> </div> <div class=list-mask @click=hideList v-show=listShow transition=fade></div> '},function(e,t){e.exports=" <div class=split></div> "},function(e,t){e.exports=' <div class=star :class=starType> <span v-for="itemClass in itemClasses" :class=itemClass class=star-item track-by=$index></span> </div> '},function(e,t,s){var o,i,n={};s(62),o=s(20),i=s(73),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var l="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(l.template=i),l.computed||(l.computed={}),Object.keys(n).forEach(function(e){var t=n[e];l.computed[e]=function(){return t}})},function(e,t,s){var o,i,n={};s(64),o=s(22),i=s(75),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var l="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(l.template=i),l.computed||(l.computed={}),Object.keys(n).forEach(function(e){var t=n[e];l.computed[e]=function(){return t}})},function(e,t,s){var o,i,n={};s(65),o=s(23),i=s(76),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var l="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(l.template=i),l.computed||(l.computed={}),Object.keys(n).forEach(function(e){var t=n[e];l.computed[e]=function(){return t}})},function(e,t,s){var o,i,n={};s(66),o=s(24),i=s(77),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var l="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(l.template=i),l.computed||(l.computed={}),Object.keys(n).forEach(function(e){var t=n[e];l.computed[e]=function(){return t}})},function(e,t,s){var o,i,n={};s(67),o=s(25),i=s(78),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var l="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(l.template=i),l.computed||(l.computed={}),Object.keys(n).forEach(function(e){var t=n[e];l.computed[e]=function(){return t}})},function(e,t,s){var o,i,n={};s(69),o=s(27),i=s(80),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var l="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(l.template=i),l.computed||(l.computed={}),Object.keys(n).forEach(function(e){var t=n[e];l.computed[e]=function(){return t}})},function(e,t,s){var o,i,n={};s(70),o=s(28),i=s(81),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var l="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(l.template=i),l.computed||(l.computed={}),Object.keys(n).forEach(function(e){var t=n[e];l.computed[e]=function(){return t}})}]);